@page  "/news"
@inject FeedRepository  FeedRepository

<h1>Actualités</h1>

@if (feeds == null)
{
    <Loading />
}
else
{

    @for (int i = 0; i < feeds.Count; i = i + 4)
    {
        int max = Math.Max(i + 4, feeds.Count);

        <div class="row row-cols-1 row-cols-md-3">
            @for (int j = i; j < max; j++)
            {
                if (j < feeds.Count)
                {
                    var current = feeds[j];

                    <Card Title="@current.Name" />
                }
                else
                {
                    <div class="col mb-4">
                    </div>
                }
            }
        </div>
    }
}

@code {
    private List<Models.Feed> feeds;

    protected override async Task OnInitializedAsync()
    {
        feeds = await FeedRepository.GetFeedsAsync();
    }
}